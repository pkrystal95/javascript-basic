# JavaScript 변수 선언: `var`, `let`, `const`

JavaScript에서 변수를 선언하는 방법에는 `var`, `let`, `const` 세 가지 키워드가 있습니다. ES2015(ES6)에서 `let`과 `const`가 도입되면서, `var`의 몇 가지 문제점을 보완하고 더 예측 가능한 코드를 작성할 수 있게 되었습니다.

## `let`

`let`은 재할당이 가능한 변수를 선언할 때 사용합니다.

- **블록 스코프(Block Scope)**: `let`으로 선언된 변수는 `{}` 블록 내에서만 유효합니다.
- **재할당 가능**: 값을 다시 할당할 수 있습니다.
- **재선언 불가능**: 같은 스코프 내에서 다시 선언할 수 없습니다.

```javascript
let message = "안녕하세요!";
console.log(message); // 안녕하세요!

message = "안녕히 가세요!"; // 재할당 가능
console.log(message); // 안녕히 가세요!

// let message = "다시 안녕하세요!"; // SyntaxError: 'message' has already been declared

if (true) {
  let blockScopedVar = "블록 스코프 변수";
  console.log(blockScopedVar); // 블록 스코프 변수
}
// console.log(blockScopedVar); // ReferenceError: blockScopedVar is not defined
```

## `const`

`const`는 재할당이 불가능한 상수(constant)를 선언할 때 사용합니다. 선언과 동시에 값을 할당해야 합니다.

- **블록 스코프(Block Scope)**: `const`로 선언된 변수도 `{}` 블록 내에서만 유효합니다.
- **재할당 불가능**: 한 번 할당된 값을 변경할 수 없습니다. (단, 객체나 배열의 내용은 변경 가능)
- **재선언 불가능**: 같은 스코프 내에서 다시 선언할 수 없습니다.

```javascript
const PI = 3.14;
console.log(PI); // 3.14

// PI = 3.14159; // TypeError: Assignment to constant variable.

// const G; // SyntaxError: Missing initializer in const declaration

const user = {
  name: "Alice",
  age: 30,
};

// user 객체 자체를 재할당하는 것은 불가능합니다.
// user = { name: "Bob" }; // TypeError: Assignment to constant variable.

// 하지만 객체의 프로퍼티는 변경할 수 있습니다.
user.name = "Bob";
console.log(user.name); // Bob
```

## `let` vs `const` 핵심 차이

가장 큰 차이점은 **재할당 가능 여부**입니다.

- `let`: 값을 변경할 수 있는 변수에 사용합니다.
- `const`: 한 번 선언한 후 값을 변경하지 않을 상수에 사용합니다.

**Best Practice**: 기본적으로 모든 변수를 `const`로 선언하고, 재할당이 필요한 경우에만 `let`으로 변경하는 것을 권장합니다. 이렇게 하면 코드의 안정성과 예측 가능성이 높아집니다.

---

## (참고) `var`의 특징과 문제점

`var`는 `let`과 `const`가 나오기 전에 사용되던 변수 선언 키워드입니다.

- **함수 스코프(Function Scope)**: `var`로 선언된 변수는 함수 내에서만 유효합니다. 블록 스코프를 따르지 않습니다.
- **재선언 가능**: 같은 스코프 내에서 여러 번 재선언할 수 있어 의도치 않은 값의 변경을 유발할 수 있습니다.
- **호이스팅(Hoisting)**: 변수 선언이 스코프의 최상단으로 끌어올려지는 현상이 발생합니다. 선언 전에 변수를 참조해도 에러가 발생하지 않고 `undefined`를 반환합니다.

```javascript
// 재선언 가능
var city = "Seoul";
var city = "Busan";
console.log(city); // Busan

// 호이스팅
console.log(age); // undefined
var age = 30;

// 함수 스코프
function greet() {
  var name = "Bob";
  console.log(name); // Bob
}
greet();
// console.log(name); // ReferenceError: name is not defined (함수 밖에서는 접근 불가)

if (true) {
  var x = 10;
}
console.log(x); // 10 (블록 스코프를 무시)
```

이러한 `var`의 특징들 때문에 현대 JavaScript 개발에서는 `let`과 `const` 사용이 권장됩니다.
